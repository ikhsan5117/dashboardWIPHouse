<!DOCTYPE html>
<html>
<head>
    <title>PNG Icons Overlay Test</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        
        .test-widget {
            width: 100px;
            height: 140px;
            border-radius: 12px 0 0 12px;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 20px;
            float: left;
        }
        
        .expired {
            background: linear-gradient(135deg, rgb(255, 230, 230) 0%, rgb(255, 230, 230) 100%);
        }
        
        .near-expired {
            background: linear-gradient(135deg, rgb(255, 247, 224) 0%, rgb(255, 247, 224) 100%);
        }
        
        .shortage {
            background: linear-gradient(135deg, rgb(255, 235, 240) 0%, rgb(255, 235, 240) 100%);
        }
        
        .over-stock {
            background: linear-gradient(135deg, rgb(230, 248, 238) 0%, rgb(230, 248, 238) 100%);
        }
        
        .normal {
            background: linear-gradient(135deg, rgb(230, 243, 255) 0%, rgb(230, 243, 255) 100%);
        }
        
        /* PNG Icons using ::before */
        .test-widget.expired::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 60px;
            height: 60px;
            background-image: url('/img/stats/expired.png');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            z-index: 3;
        }
        
        .test-widget.near-expired::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 60px;
            height: 60px;
            background-image: url('/img/stats/near_expired.png');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            z-index: 3;
        }
        
        .test-widget.shortage::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 60px;
            height: 60px;
            background-image: url('/img/stats/shortage.png');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            z-index: 3;
        }
        
        .test-widget.over-stock::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 60px;
            height: 60px;
            background-image: url('/img/stats/over_stock.png');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            z-index: 3;
        }
        
        .test-widget.normal::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 60px;
            height: 60px;
            background-image: url('/img/stats/normal.png');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            z-index: 3;
        }
        
        .status {
            margin: 20px 0;
            padding: 10px;
            background: #f0f0f0;
            clear: both;
        }
        
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
    </style>
</head>
<body>
    <h1>PNG Icons Overlay Test</h1>
    
    <div class="status" id="status">Testing PNG icons with background gradients...</div>
    
    <h2>Stats Cards with PNG Icons:</h2>
    <div class="test-widget expired"></div>
    <div class="test-widget near-expired"></div>
    <div class="test-widget shortage"></div>
    <div class="test-widget over-stock"></div>
    <div class="test-widget normal"></div>
    
    <div style="clear: both;"></div>
    
    <h2>Expected Result:</h2>
    <ul>
        <li>Background gradient should be visible</li>
        <li>PNG icons should appear on top of the gradient</li>
        <li>Icons should be centered in the widget</li>
        <li>Icons should be 60x60px in size</li>
    </ul>

    <script>
        // Test PNG loading
        const images = [
            { name: 'expired.png', url: '/img/stats/expired.png' },
            { name: 'near_expired.png', url: '/img/stats/near_expired.png' },
            { name: 'shortage.png', url: '/img/stats/shortage.png' },
            { name: 'over_stock.png', url: '/img/stats/over_stock.png' },
            { name: 'normal.png', url: '/img/stats/normal.png' }
        ];
        
        let loaded = 0;
        let failed = 0;
        
        images.forEach(img => {
            const testImg = new Image();
            testImg.onload = () => {
                loaded++;
                console.log('✓ Loaded:', img.name);
                updateStatus();
            };
            testImg.onerror = () => {
                failed++;
                console.error('✗ Failed:', img.name);
                updateStatus();
            };
            testImg.src = img.url;
        });
        
        function updateStatus() {
            const total = loaded + failed;
            if (total === images.length) {
                const status = document.getElementById('status');
                if (failed === 0) {
                    status.innerHTML = `✅ All ${loaded} PNG icons loaded successfully! Icons should be visible on colored backgrounds.`;
                    status.className = 'status success';
                } else {
                    status.innerHTML = `❌ ${failed} PNG icons failed to load. ${loaded} loaded successfully.`;
                    status.className = 'status error';
                }
            }
        }
    </script>
</body>
</html>
